/*!
 * @Author: chenqiwei.net
 * @Date: 2021-04-05 10:50:40
 * @Last Modified by: chenqiwei.net
 * @Last Modified time: 2021-10-12 22:51:19
 */
function comment(e,id){"openComments"==e?(commentsOrDiv(id),preRepAvatar(id),commentUbb(),secretComment(),qwqIn(),openComments()):"louCengStr"==e?louCengStr():"moreComments"==e&&(moreComments(id),rmoveChildrenfirstAt())}function secretComment(){var secret=document.createElement("p");secret.id="secret",secret.classList="comment-tool",secret.innerHTML='<input class="checkbox_input" type="checkbox" id="secretCheckBox" name="secret" value="secret" onclick="secretCommentCheckBox()"><label for="secretCheckBox"><a><i class="icon-user-secret"></i> 私密</a></label>',document.getElementById("commentform").appendChild(secret)}function commentUbb(){var ubb=document.createElement("p");ubb.id="ubbImg",ubb.classList="comment-tool",ubb.innerHTML='<a href="javascript:ubbOut(\'[img]图片地址[/img]\')"><i class="icon-picture"></i> 图片</a>',document.getElementById("commentform").appendChild(ubb);var ubb2=document.createElement("p");ubb2.id="ubbUrl",ubb2.classList="comment-tool",ubb2.innerHTML='<a href="javascript:ubbOut(\'[url]链接地址[/url]\')"><i class="icon-link"></i> 链接</a>',document.getElementById("commentform").appendChild(ubb2)}function ubbOut(Outs){document.getElementById("comment").value=document.getElementById("comment").value+Outs,document.getElementById("comment").focus()}function secretCommentCheckBox(){1==document.getElementById("secretCheckBox").checked?(document.getElementById("comment").style.background="whitesmoke",commentTip("勾选后，只有评论者和被评论者以及博主才有权查看。评论者邮箱作为查看凭证。")):(document.getElementById("comment").style.background="",commentTip("remove"))}function commentTip(content=""){if("remove"!=content)if(content='<i class="icon-info-circled"></i>&nbsp;'+content,document.getElementById("commentTip"))document.getElementById("commentTip").innerHTML=content;else{var tip=document.createElement("div");tip.id="commentTip",tip.innerHTML=content,document.getElementById("respond").appendChild(tip)}else document.getElementById("commentTip")&&document.getElementById("commentTip").remove()}function commentsOrDiv(e){var mycomment=document.getElementById("comment"),id=document.getElementById("comments-bg"),box=document.getElementById("respond");if("none"==e)id.style.display="none",mycomment.focus(),mycomment.setAttribute("placeholder","开始撰写...");else if("show"==e)mycomment.setAttribute("style",""),commentTip("remove"),id.style.display="inline-block",mycomment.value="",mycomment.setAttribute("placeholder",""),box.classList.remove("comment-form-show"),box.classList.remove("comment-btn-show");else{var div=document.createElement("div");div.id="comments-bg",div.innerHTML='<div id="respond-avatar">'+getRepAvatar(e)+'</div></div><div class="respond-text">点击开始撰写你的评论...</div>',document.getElementsByClassName("comment-form-comment")[0].append(div),mycomment.value="",div.onclick=function(){commentsOrDiv("none")}}}function preRepAvatar(e){var email=document.getElementById("email"),emailValue=email.value,pre=document.createElement("p");function preTmp(){if(emailValue!=email.value){var imgSrc=getRepAvatar(md5(email.value));document.getElementById("pre-avatar").innerHTML=imgSrc,emailValue=document.getElementById("email").value,document.getElementById("respond-avatar").innerHTML=imgSrc}}pre.id="pre-avatar",pre.classList="comment-tool",pre.innerHTML='<a href="javascript:editRep();">'+getRepAvatar(e)+"</a>",document.getElementById("commentform").appendChild(pre),email.onblur=function(){try{preTmp()}catch(err){loadScript("/assets/js/md5.min.js","js","md5-js","body"),document.getElementById("md5-js").addEventListener("load",(function(){preTmp()}))}}}function getRepAvatar(e){return e?'<img src="//sdn.geekzu.org/avatar/'+e+'?s=40&d=mm" width="40" height="40"/>':'<img src="'+base+'/assets/img/avatar.png" width="40" height="40" />'}function editRep(){var box=document.getElementById("respond");(""+box.className).indexOf("comment-form-show")>-1?box.classList.remove("comment-form-show"):box.classList.add("comment-form-show")}function openComments(){loadScript("/assets/css/comment-open.min.css","css","comment-open-css","head"),loadScript("/assets/js/comment-reply.min.js","js","comment-reply-js","body");var mysubmit=document.getElementById("submit"),mycomment=document.getElementById("comment"),email=document.getElementById("email"),box=document.getElementById("respond");try{document.getElementById("wp-comment-cookies-consent").checked=!0,document.getElementById("author").setAttribute("placeholder","「怎么称呼」"),document.getElementById("email").setAttribute("placeholder","「留下邮箱」"),document.getElementById("url").setAttribute("placeholder","「主页」选填")}catch(err){}document.getElementById("comment").onkeydown=function(){this.value.length>1?(secretCommentCheckBox(),email.value?box.classList.add("comment-btn-show"):box.classList.add("comment-form-show")):(mycomment.setAttribute("style",""),display.none("qwq-show"),commentTip("remove"),email.value?box.classList.remove("comment-btn-show"):box.classList.remove("comment-form-show"))},mycomment.onblur=function(){this.value.length<1&&commentsOrDiv("show")},mycomment.onfocus=function(){commentsOrDiv("none");try{commentSubmitCheck()}catch(err){loadScript("/assets/js/comment-submit-check.min.js","js","commtent-submit-check","body"),document.getElementById("commtent-submit-check").addEventListener("load",(function(){commentSubmitCheck()}))}}}function louCengStr(){for(var louCengName=["沙发","板凳","地板","天花板","站票","挂票","地下室"],depth=document.getElementsByClassName("comment-list")[0].getElementsByClassName("depth-1"),count2=-1,i=depth.length-1;i>=0;i--){var con=depth[count2+=1].getElementsByClassName("reply")[0];louCeng=i<7?louCengName[i]:i+1+"F",con.innerHTML='<span class="louceng l-none">'+louCeng+"</span>"+con.innerHTML}}function rmoveChildrenfirstAt(){if(document.getElementsByClassName("children"))for(var c=document.getElementsByClassName("children"),i=0;i<=c.length-1;i++){var id=c[i].parentNode.getAttribute("id");document.getElementsByClassName(id)[0]&&(document.getElementsByClassName(id)[0].style.display="none")}}function moreComments(num){var num2=convertToChinaNum(num);document.getElementsByClassName("comments-title")[0].innerText=num2+"条评论";var a=document.getElementById("reply-title").innerHTML;document.getElementById("reply-title").innerHTML=a.replace(/进行回复/,"")}function convertToChinaNum(num){var arr1=new Array("零","一","二","三","四","五","六","七","八","九"),arr2=new Array("","十","百");if(!num||isNaN(num))return"零";for(var english=num.toString().split(""),result="",i=0;i<english.length;i++){var des_i=english.length-1-i,arr1_index;result=arr2[i]+result,result=arr1[english[des_i]]+result}return result="二"==result?"两":(result=result.replace(/零$/,"")).replace(/一十/g,"十")}function qwqIn(){var on=' onclick="qwqOut(this)"',qwq=document.createElement("p");qwq.id="qwq",qwq.classList="comment-tool",qwq.innerHTML='<div class="qwq-on"><a href="javascript:display.auto(\'qwq-show\');"><i class="icon-smile"></i> 表情</a></div><div class="qwq-show none" id="qwq-show"><span'+on+">OωO</span><span"+on+">( ゜- ゜)つロ</span><span"+on+">_(:з」∠)_</span><span"+on+">（￣▽￣）</span><span"+on+">(=・ω・=)</span><span"+on+">(*°▽°*)八(*°▽°*)♪</span><span"+on+">(¦3【▓▓】</span><span"+on+">(ಡωಡ)</span><span"+on+">_(≧∇≦」∠)_</span><span"+on+">━━━∑(ﾟ□ﾟ*川━</span><span"+on+">(｀・ω・´)</span><span"+on+">✧(≖ ◡ ≖✿)</span><span"+on+">╮(￣▽￣)╭</span><span"+on+">(ﾟДﾟ≡ﾟдﾟ)!?</span><span"+on+">( ´･･)ﾉ(._.`)</span><span"+on+">Σ(ﾟдﾟ;)</span><span"+on+">(｡･ω･｡)</span><span"+on+">(´･_･`)</span><span"+on+">（￣へ￣）</span><span"+on+">(￣ε(#￣)</span><span"+on+"> Σ(╯°口°)╯(┴—┴</span><span"+on+">ヽ(`Д´)ﾉ</span><span"+on+'>("▔□▔)/</span><span'+on+">(๑>؂<๑）</span><span"+on+">｡ﾟ(ﾟ´Д｀)ﾟ｡</span><span"+on+">(┯_┯)</span><span"+on+">Σ_(꒪ཀ꒪」∠)</span></div>",document.getElementById("commentform").appendChild(qwq)}function qwqOut(qwqOuts){document.getElementById("comment").value=document.getElementById("comment").value+qwqOuts.innerHTML,display.none("qwq-show"),document.getElementById("comment").focus()}function userInfo(id){try{userInfoOpen(id)}catch(err){loadScript("/assets/css/user-info.min.css","css","user-info-css","head"),loadScript("/assets/js/user-info.min.js","js","user-info-js","body"),document.getElementById("user-info-js").addEventListener("load",(function(){userInfoOpen(id)}))}}function secretCommentShow(id){try{secretCommentOpen(id)}catch(err){loadScript("/assets/css/secret-comment.min.css","css","secret-comment-css","head"),loadScript("/assets/js/secret-comment.min.js","js","secret-comment-js","body"),document.getElementById("secret-comment-js").addEventListener("load",(function(){secretCommentOpen(id)}))}}