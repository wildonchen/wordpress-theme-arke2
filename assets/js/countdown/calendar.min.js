!function(){var calendar=function(calendarId){if(!(this instanceof calendar))return new calendar;var c=this,calendarId=document.getElementById(calendarId),CalendarTr;function loadStyles(str){loadStyles.mark="load";var style=document.createElement("style"),head;style.type="text/css";try{style.innerHTML=str}catch(ex){style.styleSheet.cssText=str}document.getElementsByTagName("head")[0].appendChild(style)}c.buildPart=function(json){var oPart=document.createElement(json.node);return json.id&&oPart.setAttribute("id",json.id),json.className&&(oPart.className=json.className),json.innerHTML&&(oPart.innerHTML=json.innerHTML),json.href&&oPart.setAttribute("href",json.href),json.appendToBox&&json.appendToBox.appendChild(oPart),oPart};var today=(new Date).getDate(),thisyear=(new Date).getFullYear(),thismonth=(new Date).getMonth()+1,dec,add,Month,Year,Tr;c.getcalendar=function(year,month){var last=new Date(year,month-1,0),lastdate=last.getDate(),lastday=last.getDay(),months,Maxdate=new Date(year,month,0).getDate(),str="<tr><th>日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th></tr>",remainlastdate=lastdate-lastday,t=1;str+="<tr>";for(var g=0;g<=6;g++)str+=g<=lastday?'<td class="Tr">'+remainlastdate+++"</td>":thisyear==year&&thismonth==month&&today==t?'<td class="redTr">'+t+++"</td>":thisyear!=year&&1==t||thismonth!=month&&1==t?'<td class="redTr">'+t+++"</td>":'<td class="blueTr">'+t+++"</td>";str+="</tr>";for(var remainlastday=6-lastday+1,nextMonthday=1,i=1;i<=5;i++){str+="<tr>";for(var j=0;j<7;j++)str+=remainlastday<=Maxdate?thisyear==year&&thismonth==month&&today==remainlastday?'<td class="redTr">'+remainlastday+++"</td>":thisyear!=year&&1==remainlastday||thismonth!=month&&1==remainlastday?'<td class="redTr">'+remainlastday+++"</td>":'<td class="blueTr">'+remainlastday+++"</td>":'<td class="Tr">'+nextMonthday+++"</td>";str+="</tr>"}return str},c.init=function(){CalendarTr=c.getcalendar(thisyear,thismonth),"load"!=loadStyles.mark&&loadStyles(".calendarDiv {width:361px;text-align:center;}              .Table{width:360px;height:200px;}              .box{margin-left:15px;margin-right:10px;text-align:center;width:335px;height:22px;font-weight:bold;font-size:21px;}              .box-dec{border:none;text-align:left;cursor:pointer;font-weight:bold;float:left;}              .box-add{border:none;text-align:right;cursor:pointer;font-weight:bold;float:right;}              .Tr{text-align:center;}              .redTr{color:red;text-align:center;}              .blueTr{color:blue;text-align:center;};"),c.buildPart({node:"div",id:"calendarDiv",className:"calendar",appendToBox:calendarId}),c.buildPart({node:"div",id:"headId",className:"box",appendToBox:calendarDiv}),c.buildPart({node:"span",id:"dec",className:"box-dec",innerHTML:"<",appendToBox:headId}),c.buildPart({node:"span",id:"Year",innerHTML:thisyear+"年",appendToBox:headId}),c.buildPart({node:"span",id:"Month",innerHTML:thismonth<10?"0"+thismonth+"月":thismonth,appendToBox:headId}),c.buildPart({node:"span",id:"add",className:"box-add",innerHTML:">",appendToBox:headId}),c.buildPart({node:"table",id:"calendarTable",className:"Table",innerHTML:CalendarTr,appendToBox:calendarDiv})},c.init(),dec=document.getElementById("dec"),add=document.getElementById("add"),Month=document.getElementById("Month"),Year=document.getElementById("Year"),Tr=document.getElementById("calendarTable"),month=parseInt(Month.innerHTML),year=parseInt(Year.innerHTML),dec.onclick=function(e){var target;"dec"==((e=e||event).target||e.srcElement).id&&(month>1||12==month?(Month.innerHTML=--month<10?"0"+month+"月":month+"月",CalendarTr=c.getcalendar(year,month),Tr.innerHTML="",Tr.innerHTML=CalendarTr):(Year.innerHTML=--year<=1970?"1970年":year+"年",Month.innerHTML=year<1970&&month<2?"01月":"12月",year<1970&&month<2?(year=1970,month=1,CalendarTr=c.getcalendar(year,month),Tr.innerHTML="",Tr.innerHTML=CalendarTr):(month=12,CalendarTr=c.getcalendar(year,month),Tr.innerHTML="",Tr.innerHTML=CalendarTr)))},add.onclick=function(e){var target;"add"==((e=e||event).target||e.srcElement).id&&(month>0&&month<12?(Month.innerHTML=++month<10?"0"+month+"月":month+"月",CalendarTr=c.getcalendar(year,month),Tr.innerHTML="",Tr.innerHTML=CalendarTr):(Year.innerHTML=++year+"年",Month.innerHTML="01月",month=1,CalendarTr=c.getcalendar(year,month),Tr.innerHTML="",Tr.innerHTML=CalendarTr))}};window.calendar=calendar}(),new calendar("calen");