/*!
 * @Author: chenqiwei.net 
 * @Date: 2021-05-30 15:03:35 
 * @Last Modified by: chenqiwei.net
 * @Last Modified time: 2021-08-28 23:00:00
 */
function book(e){"isbnImg"==e?isbnImg():"doubanUrl"==e&&doubanUrl()}function isbnImg(){document.getElementById("isbn-img").getElementsByTagName("img")[0].style.height=document.getElementById("isbn-info").offsetHeight+"px"}function doubanUrl(){if(document.getElementById("douban")){var id=document.getElementById("douban").dataset.id,content=document.getElementsByClassName("entry-content")[0],article=content.innerHTML.replace(/(<h2>读书摘录<\/h2>|<h2>读书书评<\/h2>)/gi,(function($0,$1){return{"<h2>读书摘录</h2>":'<h2>读书摘录</h2><a class="book-douban-more" href="//book.douban.com/subject/'+id+'/blockquotes" target="_blank" rel="nofollow">查看瓣友的摘录 >></a>',"<h2>读书书评</h2>":'<h2>读书书评</h2><a class="book-douban-more" href="//book.douban.com/subject/'+id+'/comments" target="_blank" rel="nofollow">查看瓣友的书评 >></a>'}[$1]}));content.innerHTML=article}}function intval(v){return v=parseInt(v),isNaN(v)?0:v}function getPos(e){for(var l=0,t=0,w=intval(e.style.width),h=intval(e.style.height),wb=e.offsetWidth,hb=e.offsetHeight;e.offsetParent;)l+=e.offsetLeft+(e.currentStyle?intval(e.currentStyle.borderLeftWidth):0),t+=e.offsetTop+(e.currentStyle?intval(e.currentStyle.borderTopWidth):0),e=e.offsetParent;return{x:l+=e.offsetLeft+(e.currentStyle?intval(e.currentStyle.borderLeftWidth):0),y:t+=e.offsetTop+(e.currentStyle?intval(e.currentStyle.borderTopWidth):0),w:w,h:h,wb:wb,hb:hb}}function getScroll(){var t,l,w,h;return document.documentElement&&document.documentElement.scrollTop?(t=document.documentElement.scrollTop,l=document.documentElement.scrollLeft,w=document.documentElement.scrollWidth,h=document.documentElement.scrollHeight):document.body&&(t=document.body.scrollTop,l=document.body.scrollLeft,w=document.body.scrollWidth,h=document.body.scrollHeight),{t:t,l:l,w:w,h:h}}function scroller(el,duration){if("object"!=typeof el&&(el=document.getElementById(el)),el){var z=this;z.el=el,z.p=getPos(el),z.s=getScroll(),z.clear=function(){window.clearInterval(z.timer),z.timer=null},z.t=(new Date).getTime(),z.step=function(){var t=(new Date).getTime(),p=(t-z.t)/duration;t>=duration+z.t?(z.clear(),window.setTimeout((function(){z.scroll(z.p.y,z.p.x)}),13)):(st=(-Math.cos(p*Math.PI)/2+.5)*(z.p.y-z.s.t)+z.s.t,sl=(-Math.cos(p*Math.PI)/2+.5)*(z.p.x-z.s.l)+z.s.l,z.scroll(st,sl))},z.scroll=function(t,l){window.scrollTo(l,t)},z.timer=window.setInterval((function(){z.step()}),13)}}